{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/management-taptapnow/src/components/StatisticAdmin.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport { Card, Typography, Grid, colors, InputBase, Button } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Paper from '@material-ui/core/Paper';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { userContext, getUserById } from '../utils/userContext';\nimport { getMenuStat, getOrdersStat } from '../utils/StatContext';\nimport { Redirect, NavLink } from 'react-router-dom';\nimport { MuiPickersUtilsProvider, KeyboardTimePicker, KeyboardDatePicker } from '@material-ui/pickers';\nimport TableContainer from '@material-ui/core/TableContainer';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary\n  },\n  content: {\n    padding: 0\n  },\n  item: {\n    padding: theme.spacing(3),\n    textAlign: 'center',\n    [theme.breakpoints.up('md')]: {\n      '&:not(:last-of-type)': {\n        borderRight: `1px solid ${theme.palette.divider}`\n      }\n    },\n    [theme.breakpoints.down('sm')]: {\n      '&:not(:last-of-type)': {\n        borderBottom: `1px solid ${theme.palette.divider}`\n      }\n    }\n  },\n  titleWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  label: {\n    marginLeft: theme.spacing(1)\n  },\n  overline: {\n    marginTop: theme.spacing(1)\n  }\n});\n\nclass StatisticAdmin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setSelectedDate = date => {\n      this.setState({\n        selectedDate: date\n      });\n    };\n\n    this.handleDateChange = date => {\n      this.setSelectedDate(date);\n    };\n\n    this.componentDidMount = async () => {\n      let user = await userContext();\n\n      if (user !== null) {\n        this.setState({\n          user: JSON.parse(user),\n          isLogin: true\n        });\n      } else {\n        this.setState({\n          isLogin: false\n        });\n      }\n\n      let userResult = await getUserById(JSON.parse(user).data.id_user, JSON.parse(user).token);\n\n      if (userResult.is_first_time_login == 0) {\n        this.setState({\n          isFirstTime: true\n        });\n      }\n\n      let objUser = {\n        id_user: this.state.user.data.id_user\n      };\n      let menuStat = await getMenuStat(objUser, this.state.user.token);\n      this.setState({\n        menuStat: menuStat\n      }); // -- Orders stat   \n\n      let orderStat = await getOrdersStat(objUser, this.state.user.token); // console.log(\" Data Order Stat \", orderStat)\n\n      let orderStatReview = orderStat.filter(el => el.status_fiche == 2);\n      let orderStatReady = orderStat.filter(el => el.status_fiche == 3);\n      let orderStatCompleted = orderStat.filter(el => el.status_fiche == 4);\n      let orderStatCancel = orderStat.filter(el => el.status_fiche == 5);\n      this.setState({\n        orderStatReview: orderStatReview,\n        orderStatReady: orderStatReady,\n        orderStatCompleted: orderStatCompleted,\n        orderStatCancel: orderStatCancel\n      });\n    };\n\n    this.state = {\n      statistics: {\n        payout: 10,\n        projects: 123,\n        visitors: 120,\n        watching: 12\n      },\n      selectedDate: '2014-08-18T21:11:54',\n      user: {},\n      userResult: {},\n      menuStat: {},\n      orderStatReview: [],\n      orderStatReady: [],\n      orderStatCompleted: [],\n      orderStatCancel: []\n    };\n  }\n\n  render() {\n    if (this.state.isLogin == false) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 14\n        }\n      });\n    }\n\n    if (this.state.isFirstTime == true) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: `/customer_details/${this.state.user.data.id_user}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 14\n        }\n      });\n    }\n\n    let {\n      classes\n    } = this.props;\n    let {\n      statistics,\n      selectedDate\n    } = this.state;\n    return /*#__PURE__*/React.createElement(TableContainer, {\n      style: {\n        marginTop: 80,\n        paddingLeft: 20,\n        paddingRight: 20,\n        width: 1140\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }\n    }, \" Overview for \", this.state.user.data ? this.state.user.data.email_user : null, \" \")), /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      alignItems: \"center\",\n      container: true,\n      justify: \"space-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      className: classes.item,\n      item: true,\n      md: 3,\n      sm: 6,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 21\n      }\n    }, this.state.menuStat.length), /*#__PURE__*/React.createElement(Typography, {\n      className: classes.overline,\n      variant: \"overline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }\n    }, \"Total dish\")), /*#__PURE__*/React.createElement(Grid, {\n      className: classes.item,\n      item: true,\n      md: 3,\n      sm: 6,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 21\n      }\n    }, this.state.orderStatReview.length), /*#__PURE__*/React.createElement(Typography, {\n      className: classes.overline,\n      variant: \"overline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 25\n      }\n    }, \"Order need attention\")), /*#__PURE__*/React.createElement(Grid, {\n      className: classes.item,\n      item: true,\n      md: 3,\n      sm: 6,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 25\n      }\n    }, this.state.orderStatCancel.length), /*#__PURE__*/React.createElement(Typography, {\n      className: classes.overline,\n      variant: \"overline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 27\n      }\n    }, \"Order Cancellation\")), /*#__PURE__*/React.createElement(Grid, {\n      className: classes.item,\n      item: true,\n      md: 3,\n      sm: 6,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 25\n      }\n    }, this.state.orderStatReady.length), /*#__PURE__*/React.createElement(Typography, {\n      className: classes.overline,\n      variant: \"overline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 27\n      }\n    }, \"Order ready to pick up\")), /*#__PURE__*/React.createElement(Grid, {\n      className: classes.item,\n      item: true,\n      md: 3,\n      sm: 6,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 29\n      }\n    }, this.state.orderStatCompleted.length), /*#__PURE__*/React.createElement(Typography, {\n      className: classes.overline,\n      variant: \"overline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 29\n      }\n    }, \"Order completed\")))));\n  }\n\n}\n\n;\nexport default withStyles(styles)(StatisticAdmin);","map":{"version":3,"sources":["/Users/apple/Desktop/management-taptapnow/src/components/StatisticAdmin.js"],"names":["React","Component","PropTypes","makeStyles","Card","Typography","Grid","colors","InputBase","Button","withStyles","FilterListIcon","SearchIcon","Paper","DateFnsUtils","userContext","getUserById","getMenuStat","getOrdersStat","Redirect","NavLink","MuiPickersUtilsProvider","KeyboardTimePicker","KeyboardDatePicker","TableContainer","styles","theme","root","flexGrow","paper","padding","spacing","textAlign","color","palette","text","secondary","content","item","breakpoints","up","borderRight","divider","down","borderBottom","titleWrapper","display","alignItems","justifyContent","label","marginLeft","overline","marginTop","StatisticAdmin","constructor","props","setSelectedDate","date","setState","selectedDate","handleDateChange","componentDidMount","user","JSON","parse","isLogin","userResult","data","id_user","token","is_first_time_login","isFirstTime","objUser","state","menuStat","orderStat","orderStatReview","filter","el","status_fiche","orderStatReady","orderStatCompleted","orderStatCancel","statistics","payout","projects","visitors","watching","render","classes","paddingLeft","paddingRight","width","flexDirection","email_user","length"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport {\nCard, Typography, Grid, colors,\nInputBase ,Button} from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Paper from '@material-ui/core/Paper';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { userContext , getUserById} from '../utils/userContext';\nimport { getMenuStat,getOrdersStat } from '../utils/StatContext';\nimport { Redirect,NavLink } from 'react-router-dom';\n\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardTimePicker,\n  KeyboardDatePicker,\n} from '@material-ui/pickers';\nimport TableContainer from '@material-ui/core/TableContainer';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n  content: {\n    padding: 0\n  },\n  item: {\n    padding: theme.spacing(3),\n    textAlign: 'center',\n    [theme.breakpoints.up('md')]: {\n      '&:not(:last-of-type)': {\n        borderRight: `1px solid ${theme.palette.divider}`\n      }\n    },\n    [theme.breakpoints.down('sm')]: {\n      '&:not(:last-of-type)': {\n        borderBottom: `1px solid ${theme.palette.divider}`\n      }\n    }\n  },\n  titleWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  label: {\n    marginLeft: theme.spacing(1)\n  },\n  overline: {\n    marginTop: theme.spacing(1)\n  }\n});\n\nclass StatisticAdmin extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            statistics: {\n              payout: 10,\n              projects: 123,\n              visitors: 120,\n              watching: 12,\n          },\n          selectedDate: '2014-08-18T21:11:54',\n          user: {},\n          userResult: {},\n          menuStat: {},\n          orderStatReview: [],\n          orderStatReady: [],\n          orderStatCompleted: [],\n          orderStatCancel: [],\n      }\n  }\n  \n  setSelectedDate = (date) => {\n    this.setState({ selectedDate: date })\n  }\n\n  handleDateChange = date => {\n    this.setSelectedDate(date);\n  };\n\n  componentDidMount = async () => {\n    let user = await userContext();\n    if (user !== null) {\n      this.setState({\n        user: JSON.parse(user),\n        isLogin: true, \n      })\n    } else {\n      this.setState({\n        isLogin: false\n      })\n    }\n  \n    let userResult = await getUserById(JSON.parse(user).data.id_user, JSON.parse(user).token);\n    if(userResult.is_first_time_login == 0){\n        this.setState({\n        isFirstTime: true\n        })\n    }\n\n    let objUser = {\n      id_user: this.state.user.data.id_user\n    }\n\n    let menuStat = await getMenuStat(objUser, this.state.user.token);\n    this.setState({\n      menuStat: menuStat\n    })\n\n    // -- Orders stat   \n    let orderStat = await getOrdersStat(objUser, this.state.user.token);\n\n    // console.log(\" Data Order Stat \", orderStat)\n    let orderStatReview = orderStat.filter(el => el.status_fiche == 2);\n    let orderStatReady = orderStat.filter(el => el.status_fiche == 3);\n    let orderStatCompleted = orderStat.filter(el => el.status_fiche == 4);\n    let orderStatCancel = orderStat.filter(el => el.status_fiche == 5); \n    \n    this.setState({\n      orderStatReview:orderStatReview, \n      orderStatReady:orderStatReady, \n      orderStatCompleted:orderStatCompleted, \n      orderStatCancel:orderStatCancel, \n    })\n  }\n\n  render() {\n    if (this.state.isLogin == false) {\n      return <Redirect to='/' />\n    }\n\n    if (this.state.isFirstTime == true) {\n      return <Redirect to={`/customer_details/${this.state.user.data.id_user}`} />\n    }\n    \n    let { classes } = this.props\n    let { statistics, selectedDate } = this.state\n   \n    return (\n        <TableContainer style={{\n              marginTop: 80,\n              paddingLeft: 20,\n              paddingRight: 20,\n              width: 1140,\n            }}>\n          \n            <div\n                style={{\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                justifyContent:\"space-between\"\n            }}>          \n            <h2> Overview for {this.state.user.data?this.state.user.data.email_user: null} </h2>                  \n            </div>\n            <Card>\n              <Grid\n                  alignItems=\"center\"\n                  container\n                  justify=\"space-between\">\n                  <Grid\n                    className={classes.item}\n                    item\n                    md={3}\n                    sm={6}\n                    xs={12}>\n                    <Typography variant=\"h2\">{this.state.menuStat.length}</Typography>\n                    <Typography\n                      className={classes.overline}\n                      variant=\"overline\">\n                      Total dish\n                    </Typography>\n                </Grid>\n            \n                <Grid\n                    className={classes.item}\n                    item\n                    md={3}  \n                    sm={6}\n                    xs={12}>\n                    <Typography variant=\"h2\">{this.state.orderStatReview.length}</Typography>\n                        <Typography\n                        className={classes.overline}\n                        variant=\"overline\">\n                      Order need attention\n                    </Typography>\n                  </Grid>\n  \n                  <Grid\n                      className={classes.item}\n                      item\n                      md={3}  \n                      sm={6}\n                      xs={12}\n                        >\n                        <Typography variant=\"h2\">{this.state.orderStatCancel.length}</Typography>\n                          <Typography\n                          className={classes.overline}\n                          variant=\"overline\"\n                          >\n                            Order Cancellation \n                        </Typography>\n                    </Grid>\n                    \n                    <Grid\n                      className={classes.item}\n                      item\n                      md={3}  \n                      sm={6}\n                      xs={12}\n                        >\n                        <Typography variant=\"h2\">{this.state.orderStatReady.length}</Typography>\n                          <Typography\n                          className={classes.overline}\n                          variant=\"overline\"\n                          >\n                            Order ready to pick up \n                        </Typography>\n                    </Grid>\n              \n                    <Grid\n                        className={classes.item}\n                        item\n                        md={3}  \n                        sm={6}\n                        xs={12}\n                        >\n                            <Typography variant=\"h2\">{this.state.orderStatCompleted.length}</Typography>\n                            <Typography\n                                className={classes.overline}\n                                variant=\"overline\"\n                              >\n                              Order completed\n                            </Typography>\n                    </Grid>\n               \n                </Grid>\n              </Card>\n          </TableContainer>\n       \n      )\n      }\n  };\n  \n  export default withStyles(styles) (StatisticAdmin)\n"]},"metadata":{},"sourceType":"module"}