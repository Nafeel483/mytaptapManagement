{"ast":null,"code":"import _defineProperty from \"/opt/management-taptapnow/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/opt/management-taptapnow/src/components/form/BankInfo.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport './form.css';\nimport { Button, Card, CardActions, CardContent, CardHeader, Grid, Divider, Switch, TextField, Typography, colors, Avatar } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport { Link, Redirect } from 'react-router-dom';\nimport { withStyles } from '@material-ui/core/styles';\nimport { userContext, getUserById, getBankInfoByUserId } from '../../utils/userContext';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport icon_camera from '../../assets/images/icon_camera.png';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport axios from 'axios';\nimport { urlFunction } from '../../utils/urls';\nimport PhoneInput from 'react-phone-input-2';\n\nconst styles = theme => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff'\n  },\n  root: {},\n  saveButton: {\n    color: theme.palette.white,\n    backgroundColor: colors.green[600],\n    '&:hover': {\n      backgroundColor: colors.green[900]\n    }\n  },\n  content: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'column',\n    textAlgin: 'center',\n    width: 700\n  },\n  name: {\n    marginTop: theme.spacing(1)\n  },\n  avatar: {\n    height: 140,\n    width: 140\n  }\n});\n\nclass BankInfo extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      let user = await userContext();\n\n      if (user !== null) {\n        this.setState({\n          user: JSON.parse(user),\n          isLogin: true\n        });\n      } else {\n        this.setState({\n          isLogin: false\n        });\n      }\n\n      let userResult = await getUserById(this.props.iduser, JSON.parse(user).token);\n      let bank_info_data = await getBankInfoByUserId(this.props.iduser, JSON.parse(user).token);\n      this.setState({\n        userResult: userResult,\n        'photo_user': userResult.photo_user,\n        'user_id_fk': userResult.id_user,\n        'name_user': userResult.name_user,\n        'last_name': userResult.last_name,\n        'first_name': userResult.first_name,\n        'email_user': userResult.email_user\n      });\n\n      if (bank_info_data.length > 0) {\n        this.setState({\n          bank_info: bank_info_data[0],\n          \"id_bank_info\": bank_info_data[0].id_bank_info,\n          \"restaurant_legal_name\": bank_info_data[0].restaurant_legal_name,\n          \"tax_number\": bank_info_data[0].tax_number,\n          \"bank_routing\": bank_info_data[0].bank_routing,\n          \"account_number\": bank_info_data[0].account_number,\n          \"mailing_address\": bank_info_data[0].mailing_address,\n          \"phone_line\": bank_info_data[0].phone_line || '',\n          \"state\": bank_info_data[0].state,\n          \"county_tax_rate\": bank_info_data[0].county_tax_rate,\n          \"showEditOption\": true,\n          \"isAcceptContract\": bank_info_data[0].isAcceptContract\n        });\n      }\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSaveBankInfo = e => {\n      this.setState({\n        openBackdrop: !this.state.openBackdrop\n      });\n      let _this$state = this.state,\n          isAcceptContract = _this$state.isAcceptContract,\n          phone_line = _this$state.phone_line,\n          user_id_fk = _this$state.user_id_fk,\n          restaurant_legal_name = _this$state.restaurant_legal_name,\n          tax_number = _this$state.tax_number,\n          bank_routing = _this$state.bank_routing,\n          account_number = _this$state.account_number,\n          mailing_address = _this$state.mailing_address,\n          state = _this$state.state,\n          county_tax_rate = _this$state.county_tax_rate;\n      e.preventDefault();\n      let data = {\n        user_id_fk: user_id_fk,\n        restaurant_legal_name: restaurant_legal_name,\n        tax_number: tax_number,\n        bank_routing: bank_routing,\n        account_number: account_number,\n        mailing_address: mailing_address,\n        county_tax_rate: county_tax_rate,\n        phone_line: phone_line,\n        isAcceptContract: isAcceptContract\n      };\n      console.log(\"isAcceptContract\", isAcceptContract);\n      axios.post(\"\".concat(urlFunction(), \"/restaurant/user/bank_info/\"), data, {\n        headers: {\n          Authorization: 'bearer ' + this.state.user.token\n        }\n      }).then(data => {\n        if (data) {\n          this.setState({\n            openBackdrop: !this.state.openBackdrop,\n            showSucess: true\n          });\n        }\n      }).catch(e => {\n        this.setState({\n          email_user: '',\n          showSucess: false,\n          openBackdrop: !this.state.openBackdrop\n        });\n      });\n    };\n\n    this.handleEditBankInfo = e => {\n      this.setState({\n        openBackdrop: !this.state.openBackdrop\n      });\n      let _this$state2 = this.state,\n          isAcceptContract = _this$state2.isAcceptContract,\n          id_bank_info = _this$state2.id_bank_info,\n          phone_line = _this$state2.phone_line,\n          user_id_fk = _this$state2.user_id_fk,\n          restaurant_legal_name = _this$state2.restaurant_legal_name,\n          tax_number = _this$state2.tax_number,\n          bank_routing = _this$state2.bank_routing,\n          account_number = _this$state2.account_number,\n          mailing_address = _this$state2.mailing_address,\n          state = _this$state2.state,\n          county_tax_rate = _this$state2.county_tax_rate;\n      e.preventDefault();\n      let data = {\n        user_id_fk: user_id_fk,\n        restaurant_legal_name: restaurant_legal_name,\n        tax_number: tax_number,\n        bank_routing: bank_routing,\n        account_number: account_number,\n        mailing_address: mailing_address,\n        county_tax_rate: county_tax_rate,\n        phone_line: phone_line,\n        id_bank_info: id_bank_info,\n        isAcceptContract: isAcceptContract\n      };\n      axios.post(\"\".concat(urlFunction(), \"/restaurant/user/bank_info/update\"), data, {\n        headers: {\n          Authorization: 'bearer ' + this.state.user.token\n        }\n      }).then(data => {\n        if (data) {\n          this.setState({\n            openBackdrop: !this.state.openBackdrop,\n            showSucess: true\n          });\n        }\n      }).catch(e => {\n        this.setState({\n          email_user: '',\n          showSucess: false,\n          openBackdrop: !this.state.openBackdrop\n        });\n      });\n    };\n\n    this.handleCloseSnackbar = () => {\n      this.setState({\n        showSucess: !this.state.showSucess\n      });\n    };\n\n    this.handleCloseSnackbarPassWord = () => {\n      this.setState({\n        showSucessPasswordUpdate: false\n      });\n    };\n\n    this.handleChangeAdress = user_address => {\n      this.setState({\n        user_address: user_address\n      });\n    };\n\n    this.handleIsAcceptContract = name => event => {\n      console.log(\"value\", event.target.checked);\n      this.setState(_objectSpread({}, this.state.state, {\n        [name]: event.target.checked\n      }));\n    };\n\n    this.state = {\n      showSucess: false,\n      openBackdrop: false,\n      showPAsswordConfirmError: false,\n      showSucessPasswordUpdate: false,\n      userResult: {},\n      bank_info: [],\n      showEditOption: false,\n      user_id_fk: '',\n      restaurant_legal_name: '',\n      tax_number: '',\n      bank_routing: '',\n      account_number: '',\n      mailing_address: '',\n      state: '',\n      county_tax_rate: '',\n      phone_line: '',\n      id_bank_info: '',\n      isAcceptContract: false\n    };\n  }\n\n  render() {\n    let _this$state3 = this.state,\n        imagePreviewUrl = _this$state3.imagePreviewUrl,\n        values = _this$state3.values,\n        profile = _this$state3.profile,\n        userResult = _this$state3.userResult,\n        openBackdrop = _this$state3.openBackdrop;\n    let classes = this.props.classes;\n\n    if (this.state.isLogin == false) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        marginTop: 80,\n        marginLeft: 12\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        marginRight: 16,\n        cursor: 'pointer'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/home\",\n      style: {\n        textDecoration: \"none\",\n        marginRight: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(ArrowBackIcon, {\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, \" Edit bank Informations \"))), React.createElement(\"div\", {\n      className: \"contentBoxInfo\",\n      style: {\n        marginTop: 90,\n        marginLeft: 20,\n        marginRight: 20,\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"flex-start\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, React.createElement(Backdrop, {\n      className: classes.backdrop,\n      open: openBackdrop,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, React.createElement(CircularProgress, {\n      color: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    })), React.createElement(CardContent, {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, this.state.showSucess == true ? React.createElement(Alert, {\n      onClose: this.handleCloseSnackbar,\n      severity: \"success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, \"Informations 're update\") : null, React.createElement(\"div\", {\n      className: \"avatar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, this.state.photo_user == '' ? React.createElement(\"div\", {\n      className: \"imageContent\",\n      style: {\n        padding: 20\n      },\n      onClick: () => this.fileInputForProfilePic.click(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, React.createElement(Avatar, {\n      className: classes.avatar,\n      src: icon_camera,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      className: \"imageContent\",\n      style: {\n        padding: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, React.createElement(Avatar, {\n      className: classes.avatar,\n      src: \"http://3.12.104.179:3001/api/v2/api/path?img_profil=\".concat(this.state.photo_user),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }))), React.createElement(Typography, {\n      className: classes.name,\n      gutterBottom: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, this.state.name_user), React.createElement(Typography, {\n      color: \"textSecondary\",\n      variant: \"body1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, this.state.email_user), React.createElement(\"div\", {\n      style: {\n        marginTop: 40,\n        marginBottom: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    })), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, React.createElement(CardHeader, {\n      title: \"Bank informations\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }), React.createElement(Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }), React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      spacing: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      fullWidth: true,\n      label: \"Restaurant's legal name\",\n      name: \"restaurant_legal_name\",\n      onChange: this.handleChange,\n      value: this.state.restaurant_legal_name,\n      InputLabelProps: {\n        shrink: true\n      },\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      fullWidth: true,\n      label: \"Tax Identification number\",\n      name: \"tax_number\",\n      onChange: this.handleChange,\n      value: this.state.tax_number,\n      InputLabelProps: {\n        shrink: true\n      },\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      md: 12,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      fullWidth: true // helperText=\"Please specify the first name\"\n      ,\n      label: \"Banking routing\",\n      name: \"bank_routing\",\n      onChange: this.handleChange,\n      value: this.state.bank_routing,\n      InputLabelProps: {\n        shrink: true\n      },\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      md: 12,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      fullWidth: true // helperText=\"Please specify the first name\"\n      ,\n      label: \"Account number\",\n      name: \"account_number\",\n      onChange: this.handleChange,\n      value: this.state.account_number,\n      InputLabelProps: {\n        shrink: true\n      },\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      fullWidth: true,\n      label: \"Mailing address for physical check\",\n      name: \"mailing_address\",\n      variant: \"outlined\",\n      InputLabelProps: {\n        shrink: true\n      },\n      onChange: this.handleChange,\n      value: this.state.mailing_address,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463\n      },\n      __self: this\n    }, \" Direct phone line \"), React.createElement(PhoneInput, {\n      country: 'us',\n      value: this.state.phone_line,\n      placeholder: 'Direct phone line' // onlyCountries={['ca', 'ht', 'us']}\n      ,\n      inputProps: {\n        name: 'phone_line',\n        required: true,\n        autoFocus: false,\n        placeholder: 'Direct phone line'\n      },\n      onChange: phone_line => this.setState({\n        phone_line\n      }),\n      inputStyle: {\n        paddding: 12,\n        width: '100%'\n      },\n      helperText: 'to owner or operator ( not the same that is listed for the public)',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482\n      },\n      __self: this\n    }, \" to owner or operator ( not the same that is listed for the public)\")), React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      fullWidth: true,\n      label: \"State/county tax rate\",\n      name: \"county_tax_rate\",\n      onChange: this.handleChange,\n      value: this.state.county_tax_rate,\n      variant: \"outlined\",\n      InputLabelProps: {\n        shrink: true\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      md: 12,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509\n      },\n      __self: this\n    }, this.state.isAcceptContract == 0 ? React.createElement(Switch, {\n      checked: this.state.isAcceptContract == 1,\n      onChange: this.handleIsAcceptContract('isAcceptContract'),\n      color: \"secondary\",\n      value: \"isAcceptContract\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515\n      },\n      __self: this\n    }) : React.createElement(Switch, {\n      checked: 1,\n      color: \"primary\",\n      value: \"isAcceptContract\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523\n      },\n      __self: this\n    }), React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528\n      },\n      __self: this\n    }, \"  Contract acknowledgement \")), React.createElement(Grid, {\n      md: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530\n      },\n      __self: this\n    }, React.createElement(CardActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 532\n      },\n      __self: this\n    }, this.state.showEditOption != true ? React.createElement(Button, {\n      onClick: this.handleSaveBankInfo,\n      className: classes.saveButton,\n      type: \"submit\",\n      color: \"primary\",\n      variant: \"contained\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535\n      },\n      __self: this\n    }, \"Save Changes\") : React.createElement(Button, {\n      onClick: this.handleEditBankInfo,\n      className: classes.saveButton,\n      type: \"submit\",\n      color: \"primary\",\n      variant: \"contained\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544\n      },\n      __self: this\n    }, \"Edit Changes\"))))), React.createElement(Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 559\n      },\n      __self: this\n    }))));\n  }\n\n}\n\n;\nexport default withStyles(styles)(BankInfo);","map":{"version":3,"sources":["/opt/management-taptapnow/src/components/form/BankInfo.js"],"names":["React","Component","Button","Card","CardActions","CardContent","CardHeader","Grid","Divider","Switch","TextField","Typography","colors","Avatar","Alert","Link","Redirect","withStyles","userContext","getUserById","getBankInfoByUserId","ArrowBackIcon","icon_camera","CircularProgress","Backdrop","axios","urlFunction","PhoneInput","styles","theme","backdrop","zIndex","drawer","color","root","saveButton","palette","white","backgroundColor","green","content","display","alignItems","flexDirection","textAlgin","width","name","marginTop","spacing","avatar","height","BankInfo","constructor","props","componentDidMount","user","setState","JSON","parse","isLogin","userResult","iduser","token","bank_info_data","photo_user","id_user","name_user","last_name","first_name","email_user","length","bank_info","id_bank_info","restaurant_legal_name","tax_number","bank_routing","account_number","mailing_address","phone_line","state","county_tax_rate","isAcceptContract","handleChange","event","target","value","handleSaveBankInfo","e","openBackdrop","user_id_fk","preventDefault","data","console","log","post","headers","Authorization","then","showSucess","catch","handleEditBankInfo","handleCloseSnackbar","handleCloseSnackbarPassWord","showSucessPasswordUpdate","handleChangeAdress","user_address","handleIsAcceptContract","checked","showPAsswordConfirmError","showEditOption","render","imagePreviewUrl","values","profile","classes","justifyContent","marginLeft","marginRight","cursor","textDecoration","padding","fileInputForProfilePic","click","marginBottom","shrink","required","autoFocus","placeholder","paddding"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './form.css';\nimport {\n    Button,\n    Card,\n    CardActions,\n    CardContent,\n    CardHeader,\n    Grid,\n    Divider,\n    Switch,\n    TextField,\n    Typography,\n    colors,\n    Avatar\n} from '@material-ui/core';\n\nimport Alert from '@material-ui/lab/Alert';\nimport { Link, Redirect } from 'react-router-dom';\nimport { withStyles} from '@material-ui/core/styles';\nimport { userContext, getUserById ,getBankInfoByUserId} from '../../utils/userContext';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport icon_camera from '../../assets/images/icon_camera.png';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport axios from 'axios';\nimport { urlFunction } from '../../utils/urls';\nimport PhoneInput from 'react-phone-input-2'\n\nconst styles = theme => ({\n    backdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: '#fff',\n\t},\n  root: {},\n  saveButton: {\n    color: theme.palette.white,\n    backgroundColor: colors.green[600],\n    '&:hover': {\n        backgroundColor: colors.green[900]\n    }\n    },\n    content: {\n        display: 'flex',\n        alignItems: 'center',\n        flexDirection: 'column',\n        textAlgin: 'center',\n        width: 700\n    },\n    name: {\n        marginTop: theme.spacing(1)\n    }, \n\n    avatar: {\n        height: 140,\n        width: 140\n    },\n});\n\nclass BankInfo extends Component  {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            showSucess: false,\n            openBackdrop: false,\n            showPAsswordConfirmError: false,\n            showSucessPasswordUpdate: false,\n            userResult: {},\n            bank_info: [],\n            showEditOption: false,\n\n            user_id_fk: '',\n            restaurant_legal_name: '',\n            tax_number: '',\n            bank_routing: '',\n            account_number: '',\n            mailing_address: '',\n            state: '',\n            county_tax_rate: '',\n            phone_line: '',\n            id_bank_info: '',\n            isAcceptContract: false,\n            \n        }\n    }\n   \n\n    componentDidMount = async () => {  \n        let user = await userContext();\n        if (user !== null) {\n          this.setState({\n            user: JSON.parse(user),\n            isLogin: true\n          })\n        } else {\n          this.setState({\n            isLogin: false\n          })\n        }\n\n        let userResult = await getUserById(this.props.iduser, JSON.parse(user).token);\n        let bank_info_data = await getBankInfoByUserId(this.props.iduser, JSON.parse(user).token);\n        \n        this.setState({\n            userResult: userResult,\n            'photo_user': userResult.photo_user,\n            'user_id_fk': userResult.id_user,\n            'name_user': userResult.name_user,\n            'last_name':userResult.last_name,\n            'first_name': userResult.first_name,\n            'email_user': userResult.email_user\n        })   \n\n        if (bank_info_data.length > 0) {\n            this.setState({\n                bank_info: bank_info_data[0],\n                \"id_bank_info\": bank_info_data[0].id_bank_info,\n                \"restaurant_legal_name\":bank_info_data[0].restaurant_legal_name,\n                \"tax_number\": bank_info_data[0].tax_number,\n                \"bank_routing\": bank_info_data[0].bank_routing,\n                \"account_number\": bank_info_data[0].account_number,\n                \"mailing_address\": bank_info_data[0].mailing_address,\n                \"phone_line\":bank_info_data[0].phone_line || '',\n                \"state\": bank_info_data[0].state,\n                \"county_tax_rate\": bank_info_data[0].county_tax_rate,\n                \"showEditOption\": true,\n                \"isAcceptContract\": bank_info_data[0].isAcceptContract,\n            })\n        }\n    }\n\n    handleChange = event => {\n        this.setState({ [event.target.name]: event.target.value });\n    };\n\n    handleSaveBankInfo = e => {\n        this.setState({\n\t\t\topenBackdrop: !this.state.openBackdrop\n        })\n\n        let {isAcceptContract,phone_line,user_id_fk,restaurant_legal_name, tax_number,bank_routing , account_number, mailing_address, state, county_tax_rate} = this.state\n        e.preventDefault(); \n        \n        let data = {\n            user_id_fk:user_id_fk,\n            restaurant_legal_name: restaurant_legal_name,\n            tax_number: tax_number,\n            bank_routing: bank_routing,\n            account_number: account_number,\n            mailing_address: mailing_address,\n            county_tax_rate: county_tax_rate,\n            phone_line: phone_line,\n            isAcceptContract: isAcceptContract\n        }\n        console.log(\"isAcceptContract\", isAcceptContract)\n        axios.post(`${urlFunction()}/restaurant/user/bank_info/`, data,\n        {\n            headers : {\n              Authorization  : 'bearer ' + this.state.user.token,\n            },\n          }\n        )\n       \n        .then((data) => {\n            if (data) {\n                this.setState({\n                    openBackdrop: !this.state.openBackdrop,\n                    showSucess:true\n                })\n            }\n        }).catch(e => {\n            this.setState({\n                email_user: '',\n                showSucess: false,\n                openBackdrop: !this.state.openBackdrop\n            })\n        })\n    };\n\n    handleEditBankInfo = e => {\n        this.setState({\n\t\t\topenBackdrop: !this.state.openBackdrop\n        })\n\n        let {isAcceptContract,id_bank_info,phone_line,user_id_fk,restaurant_legal_name, tax_number,bank_routing , account_number, mailing_address, state, county_tax_rate} = this.state\n        e.preventDefault(); \n        \n        let data = {\n            user_id_fk:user_id_fk,\n            restaurant_legal_name: restaurant_legal_name,\n            tax_number: tax_number,\n            bank_routing: bank_routing,\n            account_number: account_number,\n            mailing_address: mailing_address,\n            county_tax_rate: county_tax_rate,\n            phone_line: phone_line,\n            id_bank_info: id_bank_info,\n            isAcceptContract: isAcceptContract\n        }\n        axios.post(`${urlFunction()}/restaurant/user/bank_info/update`, data,\n        {\n            headers : {\n              Authorization  : 'bearer ' + this.state.user.token,\n            },\n        }).then((data) => {\n            if (data) {\n                this.setState({\n                    openBackdrop: !this.state.openBackdrop,\n                    showSucess:true\n                })\n            }\n        }).catch(e => {\n            this.setState({\n                email_user: '',\n                showSucess: false,\n                openBackdrop: !this.state.openBackdrop\n            })\n        })\n    };\n\n    handleCloseSnackbar = () => {\n        this.setState({\n          showSucess:!this.state.showSucess\n        })\n    }\n\n    handleCloseSnackbarPassWord = () => {\n        this.setState({\n            showSucessPasswordUpdate:false\n        })\n    }\n      \n    handleChangeAdress = user_address => {\n\t\tthis.setState({ user_address:user_address });\n    };\n    \n\n    handleIsAcceptContract = name => event => {\n        console.log(\"value\", event.target.checked )\n        this.setState({ ...this.state.state, [name]: event.target.checked });\n    };\n     \n    render() {\n        let {imagePreviewUrl, values ,profile, userResult, openBackdrop} = this.state;\n        let { classes } = this.props;\n\n        if (this.state.isLogin == false ) {\n            return <Redirect to='/' />\n        }\n\n        return (  \n            <>        \n                <div style={{\n                    display:'flex',\n                    flexDirection: \"row\",\n                    alignItems: \"center\",\n                    justifyContent: \"flex-start\",\n                    marginTop: 80,\n                    marginLeft: 12,\n                    }}> \n\t\t\t\t\t\t\n                        <div \n                        style={{\n\t\t\t\t\t\t\t\tmarginRight: 16,\n\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={`/home`}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\ttextDecoration: \"none\",\n\t\t\t\t\t\t\t\t\tmarginRight: 10,\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<ArrowBackIcon color='primary' />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h2> Edit bank Informations </h2>\n\t\t\t\t\t\t</div>\n                    </div>\n    \n                    <div className=\"contentBoxInfo\"\n                        style = {{\n                            marginTop: 90,\n                            marginLeft: 20,\n                            marginRight: 20,\n                            display:\"flex\",\n                            flexDirection: \"row\",\n                            alignItems: \"flex-start\",\n                        }}\n                    >\n              \n                    <Backdrop className={classes.backdrop} open={openBackdrop} >\n                        <CircularProgress color=\"inherit\" />\n                    </Backdrop>\n                \n                    <CardContent className={classes.content}>\n                        {\n                            this.state.showSucess == true ? \n                                <Alert onClose={this.handleCloseSnackbar} severity=\"success\">\n                                    Informations 're update\n                                </Alert>\n                            : null\n                        }\n                    <div className=\"avatar\">\n                        {\n                            this.state.photo_user == '' ?\n                            <div\n                                className=\"imageContent\"\n                                style={{\n                                    padding: 20\n                                }}\n                                onClick={() => this.fileInputForProfilePic.click()}>\n                                    \n                                    <Avatar \n                                        className={classes.avatar}\n                                        src={icon_camera}\n                                    />\n                                </div> : <div\n                                className=\"imageContent\"\n                                style={{\n                                    padding: 20\n                                }}\n                                >\n                                    <Avatar \n                                        className={classes.avatar}\n                                        src={`http://3.12.104.179:3001/api/v2/api/path?img_profil=${this.state.photo_user}` }    \n                                    />\n                            </div>                         \n                        }    \n                    </div>\n                        \n                    <Typography\n                        className={classes.name}\n                        gutterBottom\n                        >\n                        {this.state.name_user} \n                    </Typography>\n                    <Typography\n                        color=\"textSecondary\"\n                        variant=\"body1\"\n                        >\n                        {this.state.email_user}\n                    </Typography>\n\n                    <div\n                      style={{\n                        marginTop: 40,\n                        marginBottom: 20,\n                        }}>\n\n                    </div>\n                </CardContent>   \n                    \n                <form>\n                    <CardHeader title=\"Bank informations\" />                   \n                        <Divider />\n                        <CardContent>\n                            <Grid\n                                container\n                                spacing={4}>\n\n                                <Grid\n                                    item\n                                    md={6}\n                                    xs={12}>\n                                        \n                                    <TextField\n                                        fullWidth\n                                        label=\"Restaurant's legal name\"\n                                        name=\"restaurant_legal_name\"\n                                        onChange={this.handleChange}                                \n                                        value={this.state.restaurant_legal_name}\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        variant=\"outlined\"\n                                    />\n                                </Grid>\n                                <Grid\n                                    item\n                                    md={6}\n                                    xs={12}>\n                                \n                                    <TextField\n                                        fullWidth\n                                        label=\"Tax Identification number\"\n                                        name=\"tax_number\"\n                                        onChange={this.handleChange}\n                                    \n                                        value={this.state.tax_number}\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        variant=\"outlined\"\n                                    />\n                                </Grid>\n                                \n                                <Grid\n                                    item\n                                    md={12}\n                                    xs={12}>\n                                        \n                                    <TextField\n                                        fullWidth\n                                        // helperText=\"Please specify the first name\"\n                                        label=\"Banking routing\"\n                                        name=\"bank_routing\"\n                                        onChange={this.handleChange}\n                                    \n                                        value={this.state.bank_routing}\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        variant=\"outlined\"\n                                    />\n                                </Grid>\n                                <Grid\n                                    item\n                                    md={12}\n                                    xs={12}>\n                                        \n                                    <TextField\n                                        fullWidth\n                                        // helperText=\"Please specify the first name\"\n                                        label=\"Account number\"\n                                        name=\"account_number\"\n                                        onChange={this.handleChange}\n                                    \n                                        value={this.state.account_number}\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        variant=\"outlined\"\n                                    />\n                                </Grid>\n                                <Grid\n                                    item\n                                    md={6}\n                                    xs={12}\n                                    >\n                                    <TextField\n                                        fullWidth\n                                        label=\"Mailing address for physical check\"\n                                        name=\"mailing_address\"\n                                                                \n                                        variant=\"outlined\"\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        onChange={this.handleChange}\n                                        value={this.state.mailing_address}\n                                    />\n                                </Grid>\n                                <Grid\n                                    item\n                                    md={6}\n                                    xs={12}\n                                    >\n\n                                <span> Direct phone line </span>\n                                <PhoneInput\n                                    country={'us'}\n                                    value={this.state.phone_line}\n                                    placeholder={'Direct phone line'}\n                                    // onlyCountries={['ca', 'ht', 'us']}\n                                    inputProps={{\n                                        name: 'phone_line',\n                                        required: true,\n                                        autoFocus: false,\n                                        placeholder:'Direct phone line'\n                                    }}\n                                    onChange={phone_line => this.setState({ phone_line })}\n                                    inputStyle={{\n                                        paddding: 12,\n                                        width:'100%'\n                                    }}\n                                    helperText={'to owner or operator ( not the same that is listed for the public)'}\n                                    />\n                                    <i> to owner or operator ( not the same that is listed for the public)</i>\n\n                                </Grid>\n                              \n                              \n\n                                <Grid\n                                    item\n                                    md={6}\n                                    xs={6}\n                                    >\n                                \n                                    <TextField\n                                        fullWidth\n                                        label=\"State/county tax rate\"\n                                        name=\"county_tax_rate\"\n                                        onChange={this.handleChange}\n                                    \n                                        value={this.state.county_tax_rate}\n                                        variant=\"outlined\"\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                    />\n                                </Grid>\n\n                                {/* Check who connect to handle this  */}\n                                <Grid\n                                    item\n                                    md={12}\n                                    xs={12}\n                                    >\n                                    {this.state.isAcceptContract == 0 ? \n                                    <Switch\n                                        checked={this.state.isAcceptContract == 1}\n                                        onChange={this.handleIsAcceptContract('isAcceptContract')}\n                                        color=\"secondary\"\n                                        value=\"isAcceptContract\"\n                                    \n                                    />\n                                    :\n                                    <Switch\n                                        checked={1}\n                                        color=\"primary\"\n                                        value=\"isAcceptContract\"                                        \n                                    />}\n                                    <b>  Contract acknowledgement </b>\n                                </Grid>\n                                <Grid\n                                    md={12}>\n                                    <CardActions>\n                                        {this.state.showEditOption != true ?\n                                    \n                                            <Button\n                                                onClick={this.handleSaveBankInfo}\n                                                className={classes.saveButton}\n                                                    type=\"submit\"\n                                                    color=\"primary\"\n                                                variant=\"contained\">\n                                                Save Changes\n                                            </Button>\n                                            :\n                                            <Button\n                                            onClick={this.handleEditBankInfo}\n                                            className={classes.saveButton}\n                                                type=\"submit\"\n                                                color=\"primary\"\n                                            variant=\"contained\">\n                                            Edit Changes\n                                        </Button>}\n\n                                     \n                                    </CardActions>\n                                </Grid>\n                            </Grid>\n                        \n                    </CardContent>\n                <Divider />         \n            </form>\n        </div>                                        \n            </>\n        )\n    }\n};\n\nexport default  withStyles(styles) (BankInfo);\n"]},"metadata":{},"sourceType":"module"}